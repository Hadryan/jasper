/* 
* Lazy Line Painter 2
* SVG Stroke animation.
*
* https://github.com/camoconnell/lazy-line-painter
* http://www.camoconnell.com
*
* Copyright 2013 Cam O'Connell
* Licensed under the MIT license.
*  
*/

(function(e,m,n){var g={init:function(c){return this.each(function(){var b=e(this),a=b.data("lazyLinePainter");b.addClass("lazy-line");if(!a){var a=e.extend({width:null,height:null,strokeWidth:2,strokeColor:"#000",strokeOverColor:null,strokeCap:"round",strokeJoin:"round",strokeOpacity:1,arrowEnd:"none",strokeDash:null,onComplete:null,delay:null,overrideKey:null},c),f=a.overrideKey?a.overrideKey:b.attr("id").replace("#",""),d=a.svgData[f].dimensions.width,h=a.svgData[f].dimensions.height;a.svgData=
a.svgData[f].strokepath;null===a.width&&(a.width=d);null===a.height&&(a.height=h);f="0 0 "+d+" "+h;d=document.createElementNS("http://www.w3.org/2000/svg","svg");d.setAttributeNS(null,"viewBox",f);d.setAttributeNS(null,"preserveAspectRatio","xMidYMid");d.setAttribute("xmlns","http://www.w3.org/2000/svg");f=e(d);b.append(f);b.data("lazyLinePainter",{svgData:a.svgData,width:a.width,height:a.height,strokeWidth:a.strokeWidth,strokeColor:a.strokeColor,strokeOverColor:a.strokeOverColor,strokeCap:a.strokeCap,
strokeJoin:a.strokeJoin,strokeOpacity:a.strokeOpacity,strokeDash:a.strokeDash,arrowEnd:a.arrowEnd,onComplete:a.onComplete,delay:a.delay,overrideKey:a.overrideKey,svg:f,complete:!1,duration:0})}})},paint:function(){return this.each(function(){var c=e(this),b=c.data("lazyLinePainter"),a=function(){c.css({width:b.width,height:b.height});for(var a=0;a<b.svgData.length;a++){var d=k(b,a),e=d.getTotalLength();d.style.strokeDasharray=e+" "+e;d.style.strokeDashoffset=e;d.style.display="block";d.getBoundingClientRect();
e=0===a?0:(b.duration+=b.svgData[a].duration)/1E3;d.style.transition=d.style.msTransform=d.style.OTransform=d.style.WebkitTransition=d.style.MozTransition="stroke-dashoffset "+b.svgData[a].duration/1E3+"s ease-out "+e+"s";d.style.strokeDashoffset="0"}};null===b.delay?a():setTimeout(a,b.delay)})},erase:function(){return this.each(function(){var c=e(this),b=c.data("lazyLinePainter");c.find("svg").empty();b.duration=0;b.complete=!1})},destroy:function(){return this.each(function(){var c=e(this);c.removeData("lazyLinePainter");
c.remove()})},stamp:function(){return this.each(function(){var c=e(this),b=c.data("lazyLinePainter"),a=function(){c.css({width:b.width,height:b.height});for(var a=0;a<b.svgData.length;a++)k(b,a)};null===b.delay?a():setTimeout(a,b.delay)})},get:function(c){return this.each(function(){return e(this).data("lazyLinePainter")[c]})},set:function(c){return this.each(function(){e(this).data("lazyLinePainter")[c.attr]=c.value})}},k=function(c,b){var a=document.createElementNS("http://www.w3.org/2000/svg",
"path"),f=e(a);c.svg.append(f);f.attr(l(c,c.svgData[b]));return a},l=function(c,b){return{d:b.path,stroke:b.strokeColor?b.strokeColor:c.strokeColor,"fill-opacity":0,"stroke-dasharray":b.strokeDash?b.strokeDash:c.strokeDash,"stroke-opacity":b.strokeOpacity?b.strokeOpacity:c.strokeOpacity,"stroke-width":b.strokeWidth?b.strokeWidth:c.strokeWidth,"stroke-linecap":b.strokeCap?b.strokeCap:c.strokeCap,"stroke-linejoin":b.strokeJoin?b.strokeJoin:c.strokeJoin,"arrow-end":b.arrowEnd?b.arrowEnd:c.arrowEnd,markerWidth:"4",
markerHeight:"3",orient:"auto"}};e.fn.lazylinepainter=function(c){if(g[c])return g[c].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof c||!c)return g.init.apply(this,arguments)}})(jQuery,window);
 